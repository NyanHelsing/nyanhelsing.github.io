# Streamlining Deployment with Git Submodules and a Handy Script

## Elevate Your Deployment Workflow

In the realm of web development, streamlining your deployment process can save you invaluable time and avoid unnecessary headaches. Today, I'd like to share a clever approach that leverages the power of Git submodules, combined with a simple, yet effective script, to supercharge your deployment workflow, especially when working with static site generators and platforms like GitHub Pages.

## The Magic of Submodules

Git submodules allow you to include and manage a Git repository as a subdirectory within another Git repository. This feature is perfect for when you need to incorporate external libraries, plugins, or, in our case, a specific deployment setup.

### A Practical Scenario: Deploy Branch as a Submodule

Imagine you have a project where your main work happens on the `main` branch, but deployments are managed through a separate branch, typically called `deploy`. Switching between branches for deployment tasks can be tedious and prone to errors. Here’s where a submodule can come into play beautifully.

By adding a submodule to your main repository that points to the `deploy` branch, you streamline the process. This setup allows you to manage deployment-ready files directly from your main workspace without the need to switch contexts.

## The Script that Ties It All Together

To make this process even more efficient, we introduce a simple script that automates the building and deployment steps. Here's what it looks like:

```json
"scripts": {
    "deploy": "pnpm build && cd dist && git add . && git commit -m 'doing a deploy' && git push"
}
```

Adding this script to your `package.json` enables you to execute a series of commands with a single command: building your project, committing the changes in the `dist` directory (which is our submodule pointing to the `deploy` branch), and pushing them to the repository. It’s a seamless way to deploy your site to GitHub Pages or any similar hosting service.

## Why This Approach?

- **No More Branch Switching**: Deploy directly from your main branch without ever needing to switch to the deploy branch manually.
- **Direct File Management**: Easily add or update files in your deployment directory from your main branch, bypassing the build tool when necessary.
- **Efficiency**: Save time and reduce the complexity of your deployment process with a one-liner command.

## Wrapping Up

Leveraging Git submodules in combination with a custom script can significantly simplify your deployment process. This method is not only efficient but also adaptable to various project setups, making it a valuable addition to your development toolkit.

Give it a try, and see how it transforms your deployment workflow. Happy coding!
